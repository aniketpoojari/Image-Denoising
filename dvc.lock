schema: '2.0'
stages:
  training:
    cmd: python src/training.py --config=params.yaml
    deps:
    - path: data/raw/test
      md5: c47449eba955ba1dd5440cef7a1ff5fa.dir
      size: 2020591
      nfiles: 105
    - path: data/raw/train
      md5: af0675a55c799295536a9c12aa6ed906.dir
      size: 78994825
      nfiles: 3903
    - path: src/training.py
      md5: a428ff23b88c4dfab9d2f4aa4d6514f5
      size: 4952
    params:
      params.yaml:
        mlflow_config.experiment_name: Image Denoising
        mlflow_config.registered_model_name: AutoEncoder
        mlflow_config.run_name: 2st
        mlflow_config.server_uri: sqlite:///mlflow.db
        training.epoches: 100
        training.features: 8
        training.lr: 0.001
        training.visualize: true
    outs:
    - path: training_completion.txt
      md5: 32481b387e2e1942e14e97740cc9ea36
      size: 41
  log_production_model:
    cmd: python src/log_production_model.py --config=params.yaml
    deps:
    - path: src/log_production_model.py
      md5: db4826563120f8bfa839bf820ed3e01c
      size: 1071
    - path: training_completion.txt
      md5: 32481b387e2e1942e14e97740cc9ea36
      size: 41
    params:
      params.yaml:
        mlflow_config.experiment_name: Image Denoising
        mlflow_config.server_uri: sqlite:///mlflow.db
    outs:
    - path: saved_models/model.pth
      md5: 370062bf56aa6b53f6fc9666f17a373c
      size: 222714
